<html lang="es">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Sistema Solar en p5.js</title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
        <style>
            body {
                margin: 0;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <script>
            // Variables estado global
            let xS, yS, dS, rS, vS;
            let xL, yL, dL, rL, vL;

            function setup() {
                createCanvas(300, 300);
                dS = min(width, height) * 0.2;
                rS = dS / 2;
                yS = height / 4;
                xS = -rS;
                vS = width / 400;

                dL = dS * 0.5;
                rL = dL / 2;
                yL = height / 3;
                xL = -width - rL;
                vL = vS;
            }

            function draw() {
                //Fondo decidido por la posición del Sol (if … else)
                if (xS <= width + rS) { // Día mientras el Sol no ha salido por la derecha
                background(0, 0, 255); // azul
                }
                
                else { // Noche cuando el Sol ya salió 
                background(0); // negro (gris muy oscuro)
                }
                
                
                
                if (xS > width + rS) {
                    noStroke();
                    fill(200);
                    circle(xL, yL, dL);
                }
                else { // Noche cuando el Sol ya salió
                     background(0, 0, 255); // negro 
                }
               
                
                

                //Suelo (decoración)
                noStroke();
                fill(20, 120, 40);
                rect(0, 0.8 * height, width, 0.2 * height);

                //Sol 
                noStroke();
                fill(245, 234, 10);
                circle(xS, yS, dS);
                
                //Luna
                noStroke();
                fill(200);
                circle(xL, yL, dL);
                

                //Movimiento sincronizado
                xS = xS + vS; 
                xL = xL + vL;

                //Reinicio por posición del sol
                if (xS >= 2 * width + rS) {
                    xS = -rS; // reentrar por la izquierda
                    xL = -width - rL; // la Luna vuelve a esperar fuera a la izquierda }
                }
            }
        </script>

       
    </body>
</html>